package test;

import Std.parseInt;

using buddy.Should;
using StringTools;

@:access(Main)
class Tests extends buddy.BuddySuite{

	public function new() {

		describe( "Test process", {
			it( "Test 1", {
				final ip = test1;
				Main.process( ip.currentLoads, ip.incomingLoad ).should.be( 3 );
			} );
			it( "Test 2", {
				final ip = test2;
				Main.process( ip.currentLoads, ip.incomingLoad ).should.be( 8 );
			} );
			it( "Test 3", {
				final ip = test3;
				Main.process( ip.currentLoads, ip.incomingLoad ).should.be( 94125 );
			} );
			@include it( "Test 4", {
				final ip = test4;
				Main.process( ip.currentLoads, ip.incomingLoad ).should.be( 1 );
			} );
		} );
	}

	static function parseInput( input:String ) {
		final lines = input.replace( "\t", "" ).replace( "\r", "" ).split( "\n" );
		final n = parseInt( lines[0] );
		final incomingLoad = parseInt( lines[1] );
		final inputs = lines[2].split( " " );
		final currentLoads = [for( i in 0...n ) parseInt( inputs[i] )];

		return { currentLoads: currentLoads, incomingLoad: incomingLoad }
	}

	static final test1 = parseInput( "4
	3
	5 0 2 1" );

	static final test2 = parseInput( "10
	6
	8 9 3 13 12 11 6 9 5 3" );

	static final test3 = parseInput( "100
	10000
	59835 83610 3161 5354 76735 23609 10225 151 45589 54045 66226 37966 97448 19239 84354 59929 18448 37232 40826 77590 58718 17839 81280 81303 43422 66613 6231 75814 38519 61859 16194 47099 8499 754 54805 8259 35865 85514 13692 54463 88516 22402 63349 24943 56797 84495 60652 1700 34086 40481 33325 93183 64515 97059 82262 37505 3593 8193 83196 97591 68726 85913 60223 59942 8534 94158 37536 44672 38276 54709 4494 90937 78191 66737 94117 2889 79942 28398 8769 94035 73288 12928 38239 81789 21739 11358 16696 87961 87678 85523 91846 49605 81364 32294 42297 50940 34402 37742 2142 8175" );

	static final test4 = parseInput( "2042
	100000000
	4665 7287 566 1860 4875 5701 8586 7888 5494 448 8137 1859 8386 1380 8178 970 9250 7563 2185 1253 7178 320 932 2054 2401 8251 6359 7709 71 9447 1667 777 3917 8078 959 6277 9477 9166 530 1115 5331 8970 4716 1846 1169 8356 3989 3479 4072 5720 4921 3822 760 4887 252 6318 1662 5314 2054 4704 4592 3189 4968 8881 6600 1463 6292 9049 8374 1984 4540 7687 8204 3476 22 623 7428 3742 7644 9595 6579 817 8750 8889 8725 454 295 8089 4913 7477 9464 7229 1772 6590 6185 6203 5052 1166 8325 7831 2939 6193 384 9016 8983 5075 4680 4298 7549 6798 8459 2161 9206 3583 4454 8366 2007 501 6690 9095 2019 8058 2517 8528 321 6024 8493 9568 9395 2179 9441 7414 9874 6471 2862 2097 2283 4349 4281 4075 1504 471 3952 4497 2381 8124 9939 9744 1648 7443 1745 3057 7399 9917 8424 2857 5203 9741 4191 9956 6575 7514 1328 9167 1392 5666 8296 3886 7420 1970 9099 5569 5264 6234 4651 7438 9440 7426 6647 5315 9571 9671 8336 6461 1540 8612 5068 8726 9586 6342 2991 9812 8870 3350 7666 9835 6090 7339 5644 8573 1077 1666 1580 3742 9693 6033 900 7704 2319 8416 7467 9091 9697 8786 4229 9673 8690 8879 3045 1465 253 9834 4707 4342 557 3353 3401 1353 8102 8508 991 710 2084 9259 1385 5077 6208 8864 7541 7395 5040 4253 8014 4499 6023 737 6530 1962 7474 1581 954 3300 5760 8814 3287 862 7194 7776 8736 8045 3965 8362 1993 632 7428 3582 918 6886 642 4882 5506 5120 6667 4975 7408 5857 485 6894 486 1944 7353 3516 6136 2065 894 9264 1222 4877 5703 6121 3073 4348 4762 3274 4862 8747 2926 2761 7544 6094 5971 6315 5753 5760 1409 957 3548 2089 3437 1455 6373 3668 7623 7868 8307 4749 2952 2630 1973 3891 7716 4073 9742 1900 4286 3213 4295 6321 8392 8078 3310 3048 6185 1946 5762 5904 3204 5380 9690 1370 7800 4753 9583 7352 8706 5484 7110 3047 8606 770 5735 2056 4513 7592 14 8634 8848 8736 9988 5105 9322 8604 1612 3516 548 880 6017 8418 4124 2778 6041 6630 8600 2444 6411 5045 5572 2762 5022 7127 6528 4860 9568 4223 2057 4522 8440 9380 8877 9452 9059 5712 1931 4080 2705 5275 7634 6441 3252 3507 146 1138 2272 8747 8296 539 6976 8230 8766 9040 8775 4253 5019 4503 4502 2790 2532 6896 9093 6725 4683 100 5647 3157 9012 629 750 3049 1673 7923 9986 6657 699 3963 1966 3622 885 701 6177 6452 4053 8742 2855 6460 7867 5683 2301 8694 2037 298 5768 2500 2955 2826 7752 2819 9764 4834 8004 4105 4234 4888 5547 3275 1105 4787 877 9277 64 2850 750 4437 2811 9043 556 5677 3760 6176 8419 5066 7144 3056 9765 7085 4933 5405 8779 5250 7462 1021 7677 1983 9365 2078 8430 4339 2969 7373 9119 2111 2778 450 6709 9136 7532 427 1594 164 9281 786 3293 1371 109 8349 9048 4060 3146 3827 1602 4264 3282 8545 85 7972 2606 689 1051 697 3749 8657 4828 3639 2348 7048 2247 1595 5173 367 9202 6353 3699 868 8825 3183 873 9518 8609 296 1797 8088 2743 277 2146 3287 6468 5309 1664 2783 5096 5544 5742 4744 1579 9686 3809 9458 7547 1249 8169 3057 2823 8096 7268 1706 3444 6685 2728 768 5288 4583 4317 4229 3251 9498 7754 814 2816 1472 7590 1583 5983 6709 3413 2630 6528 8128 4739 6237 7119 9709 7377 3704 8784 7783 5172 7925 5477 1167 8528 4951 4437 8365 8754 4981 345 6840 7073 2613 7200 3212 6438 8045 1763 7879 9136 2924 6189 3609 602 4923 1965 1829 4332 7156 802 6111 3787 8495 3417 6354 4679 6962 5880 9089 3234 6021 7880 7088 4873 2618 6556 2176 481 7081 6280 5483 9368 2014 5006 2324 6486 4786 2788 4045 796 5925 6860 5176 6218 9927 2357 9120 187 7032 5038 8189 9991 5025 1902 2894 7682 3651 5599 2227 185 2903 2001 4556 1251 4257 5099 6711 74 3749 8411 9201 9487 3948 5175 6159 9055 8191 7583 8230 762 9426 6721 2555 6538 6852 3302 5650 9778 6573 847 1689 5861 5556 6954 3197 7107 70 5530 668 1459 5068 9638 3147 4397 4290 2387 1572 1691 2916 950 111 4533 6035 7404 5577 4151 474 3956 1860 1069 4499 9180 2799 4077 6390 859 4454 8371 5316 3733 3438 1670 3103 7253 5006 4227 5085 2167 7927 3615 2161 9932 5529 9908 8138 9204 5374 5963 4914 8178 1746 3730 711 2925 3000 9112 5827 7305 121 5559 4058 8338 9879 2774 2163 8715 9641 9510 2627 4921 4658 7807 5240 4587 9573 3407 6805 2717 4374 982 5530 6155 423 4352 5814 8921 8614 1013 4401 7590 8078 4220 4762 3839 6405 5754 9172 3039 6233 3613 8458 2647 2674 4979 393 6670 9021 3779 3176 1708 2532 4078 3030 8781 8274 764 2450 6822 4392 1976 5667 3791 9721 6948 9244 3963 5441 6516 1218 318 5393 2574 3301 5928 1757 6518 6260 1798 8438 4776 8000 1972 5153 8299 4277 1134 4637 2226 874 3613 2805 3865 3697 2719 5897 8049 5114 9863 1798 5367 2542 7045 572 9820 2314 7562 4058 1836 9587 1402 2661 8317 873 636 5960 5144 300 1385 3902 9232 8541 2684 8145 5735 8364 6170 6671 8273 1390 1582 209 1421 5920 4097 4296 8587 987 693 650 9386 4298 3647 7675 6803 4743 8819 25 6830 4475 370 2735 7566 2392 6477 4591 2975 5579 5740 9882 3426 3081 589 6403 1556 4426 4164 1691 3484 3501 7960 8402 7280 3209 7340 9346 3359 8259 6170 9999 9285 2033 4940 8086 4790 862 2403 2787 4830 3707 5311 5182 8909 2309 2268 1122 758 4007 3087 1999 3409 5406 9290 3050 3577 1212 5319 3256 1982 4641 9882 7428 9960 9647 3384 8732 9696 5921 8786 4543 3307 8743 2435 1223 7448 4289 7535 6320 1882 3141 1991 8816 4088 8283 9379 5391 2021 7636 1722 3649 1367 5484 7069 7418 2036 4566 7289 6314 1794 2503 4233 4427 3888 5179 9766 3239 3143 3701 9588 414 2053 9320 3023 7014 4193 5803 7585 8514 9365 5627 3094 4924 6169 6591 7693 4501 3657 9148 1533 136 2479 2142 9372 9770 5674 7077 2448 2947 7045 458 464 8884 5751 7563 1109 852 4456 8798 7781 8914 5721 1243 4046 8459 5450 4025 5035 2182 8381 4431 8983 7704 8636 2383 6507 2263 167 7319 557 5433 8586 895 9709 8745 8510 8264 4293 4595 2291 4790 181 1974 6282 5629 1380 4563 5078 7699 5861 303 5091 2581 4254 6292 7286 4349 2292 5195 9461 5706 4436 2742 5950 1882 4020 1868 3843 1224 8552 7475 2674 8787 7255 9296 9723 7873 9493 9644 5987 2311 494 9339 3683 7542 1535 6098 3826 5047 3525 3157 6214 3671 2607 1879 6661 4352 1489 2529 8841 5812 4394 3742 2296 8057 2079 5219 6647 779 1597 71 505 7860 4110 9585 6255 5283 4114 9212 2697 5850 8042 7283 5795 9549 2338 6841 7955 1826 6071 9577 2169 7804 1551 505 3048 5454 7960 424 934 6885 7233 2724 6468 5296 8661 7249 3289 5963 55 2842 4958 5455 4835 6586 9204 1725 2940 8099 5417 8182 8041 2415 7657 325 786 4304 6464 6029 770 1590 7254 4310 3929 8834 4015 4876 8081 2642 7724 7279 55 6303 7093 4940 724 6538 478 6091 493 3801 5879 5120 4036 7280 5180 8561 9307 7483 2677 9458 2739 9654 1953 9584 989 9763 5798 7224 9200 6934 1277 3230 8867 2306 6457 9515 2680 9576 3156 5873 2014 8374 4618 4717 613 9213 6117 1538 3414 7040 2601 3746 7411 8076 7960 5398 4604 5244 3513 8793 8315 2847 949 6712 3549 7386 1064 7703 804 3822 3803 4976 4525 5723 4880 2856 4435 3868 9500 1490 2204 6802 3565 285 707 1081 5165 6049 5820 1910 5654 5681 9555 6980 6557 1089 1814 3733 40 7785 1174 1353 964 3696 8033 9699 3954 679 237 9392 9467 6278 2049 3150 9932 6211 5089 5491 7898 6925 6569 2113 2455 7598 1092 3460 647 3065 1460 1018 82 7343 5112 5871 49 2706 5277 4766 7013 8269 3727 9922 3708 7967 8581 2324 3790 6427 4134 2110 5100 4183 9166 7186 9295 6327 8597 6888 4873 7706 5629 2351 2652 5382 7207 1215 9605 7358 1371 3576 5355 6296 9265 9854 6911 7280 2021 7587 8942 9511 7485 9676 3031 3482 9659 7984 9341 1630 1631 6523 9705 3859 403 677 8590 2332 8154 8699 9461 4695 730 3203 2626 3451 9953 2753 5348 6902 3621 5680 1253 6642 6365 6583 3213 7221 9563 7471 63 8989 7017 7388 6078 7461 7647 8296 8015 8781 6431 334 2375 7757 5341 3770 1013 9224 854 6850 3078 2552 9725 2653 9265 6061 1038 6981 6275 5995 1605 7870 4451 1952 9505 7499 9945 7908 6388 438 9435 5913 8446 5620 7840 672 9808 8036 9190 932 4221 1773 4476 4351 954 5450 8903 2789 5804 877 3967 7380 885 1424 4298 4698 2234 1968 1724 5941 3123 6527 4721 2736 5924 8222 4159 5998 9685 5497 2573 4802 9744 7966 5116 7746 6576 4578 3963 7067 5127 7419 8009 5962 2676 3269 4210 368 5795 942 6106 5442 6029 6138 116 6373 6247 2883 7361 3535 6308 3873 3465 8925 2242 6499 2270 6708 9810 8465 5174 3165 793 1584 151 5559 9877 6517 5381 2865 4078 1259 3076 6732 4529 5547 2652 2862 1495 7409 539 5284 7640 5522 6128 1625 1491 1259 2094 4776 4560 4607 8002 6387 7565 6811 9645 3731 7036 6009 5862 6647 5132 7601 5076 5028 9960 6620 3490 6868 6758 2742 2261 8132 5336 362 4420 8223 1278 9628 8503 6385 9648 9735 9382 121 5305 7251 4368 1202 3176 3461 2481 9003 2482 5915 6705 3373 7004 9126 5974 1610 1337 74 4614 5444 6182 6626 5271 7802 1458 7363 5794 6637 7607 5123 6260 983 4152 3525 8302 7653 1696 6129 186 7851 2421 5126 4827 532 6483 3997 2234 4153 5376 2239 4255 513 1475 1302 2726 7341 1521 2438 5320 4291 8607 6401 2550 6347 8518 2926 6125 4532 6627 7177 3150 6288 9207 1423 8403 6844 5004 2330 3904 3479 2897 7863 9324 707 2129 3623 6631 4905 5850 1361 459 2852 2553 5219 1460 4145 6216 5372 4896 3572 2863 657 4653 3682 1954 157 2490 1606 5421 2339 6573 7552 910 2473 2245 184 1018 9385 8908 6163 2 8425 7942 702 2655 2898 6440 2273 6307 9432 5471 2260 7326 8925 375 6778 6232 2716 1535 7884 7221 8875 6310 4850 5071 8490 9910 6932 6091 9935 8003 6820 5391 6183 4917 2976 5466 4617 8272 9780 7533 4613 5223 6699 8752 9012 785 3151 8612 9444 3370 1176 8359 1132 8651 2336 9447 5825 7002 8599 4245 3933 3849 1822 1067 323 7579 614 3129 697 6782 1761 3665 4412 1361 844 8932 2018 9839 1224 1689 1129 5238 961 2827 9429 9899 9954 7883 8144 4544 3559 9934 3490 5277 1659 5637 6295 5267 484 4546 1422 1354 894 1089 352 7166 6741 5782 1447 8959 5826 2877 9052 9150 2395 2462 1418 5486 8674 1929 1887 2147 2256 4804 2647 9260 2464 3800 4355 9047 9374 6189 7145 8238 945 5066 2126 7291 4404 9628 1513 237 7944 4720 7264 994 1692 3548 5452 4389 6864 513 4560 2416 8049 8164 9115 2622 593 5691 7206 1779 1769 176 817 5845 2367 2004 5597 7716 5685 1508 8742 114 3508 9156 1365 9886 1563 3210 276 6338 8773 858 328 6471 3047 8349 4109 2728 842 286 8213 3738 9574 9717 3618 1957 162 1937 4566 918 1050 1200 6667 3857 9460 5040 2465 7159 7311 1638 4985 4240 5327 7631 376 728 4834 2637 1042 8859 505 2178 6742 451 6171 2332 9512 5434 144 5336 269 2297 3058 404 9661 4326 2534 6483 6697 1769 7353 8673 4708 1064 9452 7458 6285 5561 4468 6637 7993 5923 2492 6133 9547 304 7172 6310 8439 5109 350" );
}
